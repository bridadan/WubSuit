#include <inttypes.h>
#include <stdio.h>
#include "menu.h"

void Menu_init() {
	menuState.currentMenu = 0;
	menuState.selectedMenu = 0;

	menuState.menus[0].name = "Main Menu";
	menuState.menus[0].submenusCount = 2;

	// Main Menus

	menuState.menus[1].name = "Note Output";
	menuState.menus[1].submenusCount = 1;

	menuState.menus[2].name = "MIDI Mappings";
	menuState.menus[2].submenusCount = 1;

	menuState.menus[0].submenus = {
  		&(menuState.menus[1]),
		&(menuState.menus[2])
	};

	// Level 1

	menuState.menus[3].name = "Left Foot";
	menuState.menus[3].submenusCount = 1;

	menuState.menus[2].submenus = {
  		&(menuState.menus[3])
	};

	menuState.menus[4].name = NoteNames[LPiezoMapping];
	menuState.menus[4].submenusCount = 0;
	menuState.menus[4].command = Menu_LPiezoOptionCmd;

	menuState.menus[3].submenus = { &(menuState.menus[4]) };
}

void Menu_LPiezoOptionCmd() {
	suitState.waitingForMIDI = 1;
	suitState.valueToMapTo = &LPiezoMapping;
	menuState.menus[4].name = WAITING_MESSAGE;
}
